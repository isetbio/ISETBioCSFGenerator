% t_spatialCSF_mRGCExamples
%
% These are examples for t_spatialCSF that exercise the mRGC calculations.

% Examples:
%{
    % mRGCMosaic nre basic test: achromatic CSF
    t_spatialCSF('useMetaContrast', true, ...
        'whichNoiseFreeNre', 'mRGCMosaic', ...
        'mRGCOutputSignalType', 'mRGCs', ...
        'whichNoisyInstanceNre', 'Gaussian', ...
        'gaussianSigma', 0.1, ...
        'whichClassifierEngine', 'rceTemplateDistance', ...
        'useConeContrast', true, ...
        'useFixationalEMs', false, ...
        'temporalFilterValues', [], ...
        'oiPadMethod', 'zero', ...
        'visualizeEachScene', false, ...
        'visualizeEachResponse', true, ...
        'responseVisualizationFunction', @nreVisualizeMRGCmosaic, ...
        'maxVisualizedNoisyResponseInstances', 2, ...
        'maxVisualizedNoisyResponseInstanceStimuli', 2, ...
        'spatialFreqs', [0.3 0.6 1.2 3 6 12 30 60], ...
        'nTest', 1024, ...
        'validationThresholds', [0.5112 0.2519 0.1664 0.1859 0.1833 0.1797 0.5479 1.0000]);





    % mRGCMosaic CSF: L-M,  native optics @ fovea (2x2degs)
    
    validationThresholds = [...

];
    t_spatialCSF(...
        'parPoolSize', 'extreme', ...
        'useMetaContrast', true, ...
        'whichNoiseFreeNre', 'mRGCMosaic', ...
        'mRGCOutputSignalType', 'mRGCs', ...
        'whichNoisyInstanceNre', 'Gaussian', ...
        'gaussianSigma', 0.1, ...
        'whichClassifierEngine', 'rceTemplateDistance', ...
        'useConeContrast', true, ...
        'useFixationalEMs', false, ...
        'temporalFilterValues', [], ...
        'oiPadMethod', 'zero', ...
        'visualizeEachScene', false, ...
        'visualizeEachResponse', true, ...
        'responseVisualizationFunction', @nreVisualizeMRGCmosaic, ...
        'maxVisualizedNoisyResponseInstances', 2, ...
        'maxVisualizedNoisyResponseInstanceStimuli', 2, ...
        'opticsType', 'loadComputeReadyRGCMosaic', ...
        'mRGCMosaicRawEccDegs', [0 0], ...
        'mRGCMosaicRawSizeDegs', [2 2], ...
        'mosaicEccDegs', [0.0 0], ...
        'mosaicSizeDegs', [2 2], ...
        'stimSizeDegs', 2.3, ...
        'pixelsNum', 512, ...
        'stimulusChroma', 'red-green', ...
        'orientationDegs', 120, ...
        'presentationMode', 'drifted', ...
        'stimDurationTemporalCycles', 1.0, ...
        'frameDurationSeconds', (1/2.5)/8, ...
        'spatialFreqs', logspace(log10(0.2), log10(120), 20), ...
        'temporalFrequencyHz', 2.5, ...
        'nTest', 1024, ...
        'psychometricCurveSamplesNum', 5, ...
        'validationThresholds', validationThresholds);


    % mRGCMosaic CSF: L+M+S,  native optics @ fovea (2x2degs)

    t_spatialCSF(...
        'parPoolSize', 'extreme', ...
        'useMetaContrast', true, ...
        'whichNoiseFreeNre', 'mRGCMosaic', ...
        'mRGCOutputSignalType', 'mRGCs', ...
        'whichNoisyInstanceNre', 'Gaussian', ...
        'gaussianSigma', 0.1, ...
        'whichClassifierEngine', 'rceTemplateDistance', ...
        'useConeContrast', true, ...
        'useFixationalEMs', false, ...
        'temporalFilterValues', [], ...
        'oiPadMethod', 'zero', ...
        'visualizeEachScene', false, ...
        'visualizeEachResponse', true, ...
        'responseVisualizationFunction', @nreVisualizeMRGCmosaic, ...
        'maxVisualizedNoisyResponseInstances', 2, ...
        'maxVisualizedNoisyResponseInstanceStimuli', 2, ...
        'opticsType', 'loadComputeReadyRGCMosaic', ...
        'mRGCMosaicRawEccDegs', [0 0], ...
        'mRGCMosaicRawSizeDegs', [2 2], ...
        'mosaicEccDegs', [0.0 0], ...
        'mosaicSizeDegs', [2 2], ...
        'stimSizeDegs', 2.3, ...
        'pixelsNum', 512, ...
        'stimulusChroma', 'luminance', ...
        'orientationDegs', 120, ...
        'presentationMode', 'drifted', ...
        'stimDurationTemporalCycles', 1.0, ...
        'frameDurationSeconds', (1/2.5)/8, ...
        'temporalFrequencyHz', 2.5, ...
        'nTest', 1024, ...
        'psychometricCurveSamplesNum', 5, ...
        'spatialFreqs', logspace(log10(0.2), log10(120), 20), ...
        'validationThresholds', validationThresholds);


    % input cone Mosaic CSF: L-M,  native optics @ fovea (2x2degs)
    validationThresholds = [
0.0056
    0.0053
    0.0051
    0.0055
    0.0056
    0.0056
    0.0056
    0.0057
    0.0057
    0.0066
    0.0069
    0.0080
    0.0096
    0.0128
    0.0144
    0.0188
    0.0367
    0.1854
    0.9750
    1.0000
];

    t_spatialCSF(...
        'parPoolSize', 'extreme', ...
        'useMetaContrast', true, ...
        'whichNoiseFreeNre', 'mRGCMosaic', ...
        'mRGCOutputSignalType', 'cones', ...
        'whichNoisyInstanceNre', 'Gaussian', ...
        'gaussianSigma', 0.1, ...
        'whichClassifierEngine', 'rceTemplateDistance', ...
        'useConeContrast', true, ...
        'useFixationalEMs', false, ...
        'temporalFilterValues', [], ...
        'oiPadMethod', 'zero', ...
        'visualizeEachScene', false, ...
        'visualizeEachResponse', ~true, ...
        'responseVisualizationFunction', @nreVisualizeMRGCmosaic, ...
        'maxVisualizedNoisyResponseInstances', 2, ...
        'maxVisualizedNoisyResponseInstanceStimuli', 2, ...
        'opticsType', 'loadComputeReadyRGCMosaic', ...
        'mRGCMosaicRawEccDegs', [0 0], ...
        'mRGCMosaicRawSizeDegs', [2 2], ...
        'mosaicEccDegs', [0.0 0], ...
        'mosaicSizeDegs', [2 2], ...
        'stimSizeDegs', 2.3, ...
        'pixelsNum', 512, ...
        'stimulusChroma', 'red-green', ...
        'orientationDegs', 120, ...
        'presentationMode', 'drifted', ...
        'stimDurationTemporalCycles', 1.0, ...
        'frameDurationSeconds', (1/2.5)/8, ...
        'temporalFrequencyHz', 2.5, ...
        'nTest', 1024, ...
        'psychometricCurveSamplesNum', 5, ...
        'spatialFreqs', logspace(log10(0.2), log10(120), 20), ...
        'validationThresholds', validationThresholds)

% input cone Mosaic CSF: L+M+S,  native optics @ fovea (2x2degs)
    validationThresholds = [
0.0062
    0.0066
    0.0063
    0.0063
    0.0062
    0.0067
    0.0061
    0.0071
    0.0070
    0.0070
    0.0081
    0.0086
    0.0111
    0.0152
    0.0208
    0.0325
    0.0640
    0.1925
    1.0000
    1.0000
];

    t_spatialCSF(...
        'parPoolSize', 'extreme', ...
        'useMetaContrast', true, ...
        'whichNoiseFreeNre', 'mRGCMosaic', ...
        'mRGCOutputSignalType', 'cones', ...
        'whichNoisyInstanceNre', 'Gaussian', ...
        'gaussianSigma', 0.1, ...
        'whichClassifierEngine', 'rceTemplateDistance', ...
        'useConeContrast', true, ...
        'useFixationalEMs', false, ...
        'temporalFilterValues', [], ...
        'oiPadMethod', 'zero', ...
        'visualizeEachScene', false, ...
        'visualizeEachResponse', ~true, ...
        'responseVisualizationFunction', @nreVisualizeMRGCmosaic, ...
        'maxVisualizedNoisyResponseInstances', 2, ...
        'maxVisualizedNoisyResponseInstanceStimuli', 2, ...
        'opticsType', 'loadComputeReadyRGCMosaic', ...
        'mRGCMosaicRawEccDegs', [0 0], ...
        'mRGCMosaicRawSizeDegs', [2 2], ...
        'mosaicEccDegs', [0.0 0], ...
        'mosaicSizeDegs', [2 2], ...
        'stimSizeDegs', 2.3, ...
        'pixelsNum', 512, ...
        'stimulusChroma', 'luminance', ...
        'orientationDegs', 120, ...
        'presentationMode', 'drifted', ...
        'stimDurationTemporalCycles', 1.0, ...
        'frameDurationSeconds', (1/2.5)/8, ...
        'temporalFrequencyHz', 2.5, ...
        'nTest', 1024, ...
        'psychometricCurveSamplesNum', 5, ...
        'spatialFreqs', logspace(log10(0.2), log10(120), 20), ...
        'validationThresholds', validationThresholds)

 

 
    % mRGCMosaic nre test: 
    % achromatic  AO optics, drifting CSF @ fovea (1x1 degs)
    validationThresholds = [...
 0.0279
    0.0302
    0.0287
    0.0286
    0.0310
    0.0296
    0.0285
    0.0269
    0.0261
    0.0232
    0.0199
    0.0177
    0.0148
    0.0129
    0.0136
    0.0152
    0.0188
    0.0228
    0.0538
    0.1683
    ];

    t_spatialCSF(...
        'parPoolSize', 'extreme', ...
        'useMetaContrast', true, ...
        'whichNoiseFreeNre', 'mRGCMosaic', ...
        'mRGCOutputSignalType', 'mRGCs', ...
        'whichNoisyInstanceNre', 'Gaussian', ...
        'gaussianSigma', 0.1, ...
        'whichClassifierEngine', 'rceTemplateDistance', ...
        'useConeContrast', true, ...
        'useFixationalEMs', false, ...
        'temporalFilterValues', [], ...
        'oiPadMethod', 'zero', ...
        'visualizeEachScene', false, ...
        'visualizeEachResponse', true, ...
        'responseVisualizationFunction', @nreVisualizeMRGCmosaic, ...
        'maxVisualizedNoisyResponseInstances', 2, ...
        'maxVisualizedNoisyResponseInstanceStimuli', 2, ...
        'opticsType', 'adaptiveOptics6MM', ...
        'mRGCMosaicRawEccDegs', [0 0], ...
        'mRGCMosaicRawSizeDegs', [2 2], ...
        'mosaicEccDegs', [0.0 0], ...
        'mosaicSizeDegs', [2 2], ...
        'stimSizeDegs', 2.3, ...
        'pixelsNum', 512, ...
        'stimulusChroma', 'luminance', ...
        'orientationDegs', 120, ...
        'presentationMode', 'drifted', ...
        'stimDurationTemporalCycles', 1.0, ...
        'frameDurationSeconds', (1/2.5)/8, ...
        'temporalFrequencyHz', 2.5, ...
        'nTest', 1024, ...
        'psychometricCurveSamplesNum', 5, ...
        'spatialFreqs', logspace(log10(0.2), log10(120), 20), ...
        'validationThresholds', validationThresholds);


validationThresholds = [...
0.0089
    0.0089
    0.0086
    0.0087
    0.0088
    0.0086
    0.0085
    0.0090
    0.0091
    0.0091
    0.0089
    0.0094
    0.0101
    0.0097
    0.0111
    0.0125
    0.0158
    0.0244
    0.0529
    0.1904
];

t_spatialCSF(...
        'parPoolSize', 'extreme', ...
        'useMetaContrast', true, ...
        'whichNoiseFreeNre', 'mRGCMosaic', ...
        'mRGCOutputSignalType', 'mRGCs', ...
        'whichNoisyInstanceNre', 'Gaussian', ...
        'gaussianSigma', 0.1, ...
        'whichClassifierEngine', 'rceTemplateDistance', ...
        'useConeContrast', true, ...
        'useFixationalEMs', false, ...
        'temporalFilterValues', [], ...
        'oiPadMethod', 'zero', ...
        'visualizeEachScene', false, ...
        'visualizeEachResponse', true, ...
        'responseVisualizationFunction', @nreVisualizeMRGCmosaic, ...
        'maxVisualizedNoisyResponseInstances', 2, ...
        'maxVisualizedNoisyResponseInstanceStimuli', 2, ...
        'opticsType', 'adaptiveOptics6MM', ...
        'mRGCMosaicRawEccDegs', [0 0], ...
        'mRGCMosaicRawSizeDegs', [2 2], ...
        'mosaicEccDegs', [0 0], ...
        'mosaicSizeDegs', [2 2], ...
        'stimSizeDegs', 2.3, ...
        'pixelsNum', 512, ...
        'stimulusChroma', 'red-green', ...
        'orientationDegs', 120, ...
        'presentationMode', 'drifted', ...
        'stimDurationTemporalCycles', 1.0, ...
        'frameDurationSeconds', (1/2.5)/8, ...
        'temporalFrequencyHz', 2.5, ...
        'nTest', 1024, ...
        'psychometricCurveSamplesNum', 5, ...
        'spatialFreqs', logspace(log10(0.2), log10(120), 20), ...
        'validationThresholds', validationThresholds);



%}
